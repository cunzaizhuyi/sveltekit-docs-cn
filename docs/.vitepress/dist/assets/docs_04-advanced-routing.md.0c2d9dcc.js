import{_ as s,c as a,o as n,a as l}from"./app.62ad7953.js";const C=JSON.parse('{"title":"\u9AD8\u7EA7\u8DEF\u7531","description":"","frontmatter":{},"headers":[{"level":2,"title":"Rest parameters","slug":"rest-parameters","link":"#rest-parameters","children":[{"level":3,"title":"404 pages","slug":"_404-pages","link":"#_404-pages","children":[]}]},{"level":2,"title":"Matching","slug":"matching","link":"#matching","children":[]},{"level":2,"title":"Sorting","slug":"sorting","link":"#sorting","children":[]},{"level":2,"title":"Encoding","slug":"encoding","link":"#encoding","children":[]},{"level":2,"title":"Advanced layouts","slug":"advanced-layouts","link":"#advanced-layouts","children":[{"level":3,"title":"(group)","slug":"group","link":"#group","children":[]},{"level":3,"title":"+page@","slug":"page","link":"#page","children":[]},{"level":3,"title":"+layout@","slug":"layout","link":"#layout","children":[]},{"level":3,"title":"When to use layout groups","slug":"when-to-use-layout-groups","link":"#when-to-use-layout-groups","children":[]}]}],"relativePath":"docs/04-advanced-routing.md"}'),e={name:"docs/04-advanced-routing.md"},o=l(`<h1 id="\u9AD8\u7EA7\u8DEF\u7531" tabindex="-1">\u9AD8\u7EA7\u8DEF\u7531 <a class="header-anchor" href="#\u9AD8\u7EA7\u8DEF\u7531" aria-hidden="true">#</a></h1><h2 id="rest-parameters" tabindex="-1">Rest parameters <a class="header-anchor" href="#rest-parameters" aria-hidden="true">#</a></h2><p>\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u8DEF\u7531\u5206\u6BB5\u6709\u591A\u5C11\uFF0C\u53EF\u4EE5\u4F7F\u7528rest\u8BED\u6CD5\uFF0C\u6BD4\u5982\u4F60\u53EF\u4EE5\u50CF\u4E0B\u9762\u8FD9\u6837\u5B9E\u73B0GitHub&#39;s\u7684\u6587\u4EF6\u6D4F\u89C8\u5668\u3002</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">org</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">repo</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/tree/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">branch</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">...file</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><p>\u5047\u5982\u6709\u8FD9\u6837\u4E00\u4E2A\u8BF7\u6C42 <code>/sveltejs/kit/tree/master/documentation/docs/04-advanced-routing.md</code>\uFF0C \u90A3\u9875\u9762\u80FD\u53D6\u7684\u53C2\u6570\u662F\u8FD9\u6837\u7684:</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">// @noErrors</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">org</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sveltejs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">repo</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">kit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">branch</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">master</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">file</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">documentation/docs/04-advanced-routing.md</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p><code>src/routes/a/[...rest]/z/+page.svelte</code> \u4F1A\u5339\u914D <code>/a/z</code> (\u5B8C\u5168\u6CA1\u53C2\u6570) as well as <code>/a/b/z</code> \u548C <code>/a/b/c/z</code> \u7B49\u3002 \u8BF7\u786E\u4FDD\u4F60\u68C0\u67E5\u4E86rest parameter\u7684\u6709\u6548\u6027\u3002\u53EF\u4EE5\u7528 <a href="#matching">matcher</a>\u68C0\u67E5\u3002</p></blockquote><h3 id="_404-pages" tabindex="-1">404 pages <a class="header-anchor" href="#_404-pages" aria-hidden="true">#</a></h3><p>Rest parameters \u4E5F\u5141\u8BB8\u4F60\u81EA\u5B9A\u4E49404\u9875\u9762\u3002\u5047\u5982\u6709\u4E0B\u9762\u8DEF\u7531\uFF1A</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C marx-brothers/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C chico/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C harpo/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C groucho/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +error.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514 +error.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u5982\u679C\u4F60\u8BBF\u95EE<code>/marx-brothers/karl</code>\uFF0C<code>marx-brothers/+error.svelte</code> \u6587\u4EF6\u4E0D\u4F1A\u6E32\u67D3\uFF0C\u56E0\u4E3A\u6CA1\u6709\u8DEF\u7531\u5339\u914D\u5230\u3002 \u5982\u679C\u4F60\u60F3\u6E32\u67D3\u4E00\u4E2A\u9519\u8BEF\u9875\u9762\uFF0C\u5C31\u8981\u521B\u5EFA\u4E00\u4E2A\u80FD\u591F\u5339\u914D\u6240\u6709<code>/marx-brothers/*</code>\u8BF7\u6C42\u7684\u8DEF\u7531\u3002</p><div class="language-diff"><button class="copy"></button><span class="lang">diff</span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C marx-brothers/</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">| \u251C [...path]/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C chico/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C harpo/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C groucho/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +error.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514 +error.svelte</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">/// file: src/routes/marx-brothers/[...path]/+page.js</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@sveltejs/kit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">/** </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">type</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">import(&#39;./$types&#39;).PageLoad</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">load</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">throw</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">error</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">404</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Not Found</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>If you don&#39;t handle 404 cases, they will appear in <a href="/docs/hooks.html#shared-hooks-handleerror"><code>handleError</code></a></p></blockquote><h2 id="matching" tabindex="-1">Matching <a class="header-anchor" href="#matching" aria-hidden="true">#</a></h2><p><code>src/routes/archive/[page]</code>\u8DEF\u7531 \u65E2\u53EF\u4EE5\u5339\u914D <code>/archive/3</code>, \u4E5F\u53EF\u4EE5\u5339\u914D <code>/archive/potato</code>\u3002 \u5982\u679C\u6211\u4EEC\u4E0D\u60F3\u8FD9\u6837\uFF0C\u53EF\u4EE5\u5728 <a href="/docs/configuration.html#files"><code>params</code></a>\u76EE\u5F55\u6DFB\u52A0\u4E00\u4E2A_matcher_\uFF0C _matcher_\u63A5\u6536\u8DEF\u7531\u53C2\u6570\uFF08<code>&quot;3&quot;</code> or <code>&quot;potato&quot;</code>\uFF09\u4E3A\u53C2\u6570\uFF0C\u5982\u679C\u6709\u6548\u5C31\u8FD4\u56DEtrue\u3002</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">/// file: src/params/integer.js</span></span>
<span class="line"><span style="color:#676E95;">/** </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">type</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">import(&#39;@sveltejs/kit&#39;).ParamMatcher</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">match</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">param</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">return</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">^</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">param</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u7136\u540E\u7ED9\u8DEF\u7531\u52A0\u53C2\u6570:</p><div class="language-diff"><button class="copy"></button><span class="lang">diff</span><pre><code><span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">src/routes/archive/[page]</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">src/routes/archive/[page=integer]</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679Cpathname\u4E0D\u5339\u914D, SvelteKit \u4F1A\u5C1D\u8BD5\u5339\u914D\u5176\u4ED6\u8DEF\u7531 (\u4F7F\u7528\u4E0B\u9762\u7684\u6392\u5E8F\u89C4\u5219)\u3002</p><blockquote><p>Matchers \u5728\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u90FD\u80FD\u8FD0\u884C\u3002</p></blockquote><h2 id="sorting" tabindex="-1">Sorting <a class="header-anchor" href="#sorting" aria-hidden="true">#</a></h2><p>\u53EF\u80FD\u6709\u591A\u6761\u8DEF\u7531\u5339\u914D\u5230\u6307\u5B9A\u7684path\u3002 \u6BD4\u5982\u4E0B\u9762\u7684\u4F8B\u5B50\uFF0C\u90A3\u4E48\u591A\u8DEF\u7531\u90FD\u80FD\u5339\u914D\u5230<code>/foo-abc</code>\uFF1A</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">...catchall</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+server.js</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/foo-</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/foo-abc/+page.svelte</span></span>
<span class="line"></span></code></pre></div><p>SvelteKit \u9700\u8981\u77E5\u9053\u5230\u5E95\u8BF7\u6C42\u7684\u54EA\u6761\u8DEF\u7531\uFF0C \u6240\u4EE5\u5B83\u5236\u5B9A\u4E86\u4E0B\u9762\u7684\u6392\u5E8F\u89C4\u5219\uFF1A</p><ul><li>\u8D8A\u5177\u4F53(\u7CBE\u786E)\u7684\u8DEF\u7531\u4F18\u5148\u7EA7\u8D8A\u9AD8 (\u6BD4\u5982\u4E00\u6761\u6CA1\u6709\u53C2\u6570\u7684\u8DEF\u7531 \u5C31\u6BD4 \u6709\u52A8\u6001\u53C2\u6570\u7684\u8DEF\u7531 \u66F4\u5177\u4F53)</li><li><code>+server</code> \u6587\u4EF6\u6BD4<code>+page</code> \u6587\u4EF6\u6709\u66F4\u9AD8\u7684\u4F18\u5148\u7EA7</li><li>\u6709 <a href="#matching">matchers</a> (<code>[name=type]</code>) \u6BD4\u6CA1\u6709matchers\u7684 (<code>[name]</code>)\u6709\u66F4\u9AD8\u4F18\u5148\u7EA7</li><li>Rest parameters \u6709\u6700\u4F4E\u4F18\u5148\u7EA7</li><li>Ties are resolved alphabetically</li></ul><p>\u6309\u7167\u8FD9\u4E2A\u6392\u5E8F\u89C4\u5219, \u610F\u5473\u7740 <code>/foo-abc</code> \u4F1A\u5339\u914D\u5230 <code>src/routes/foo-abc/+page.svelte</code>, \u800C <code>/foo-def</code> \u4F1A\u5339\u914D\u5230 <code>src/routes/foo-[c]/+page.svelte</code>:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/foo-abc/+page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/foo-</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+server.js</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">src/routes/</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">...catchall</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">/+page.svelte</span></span>
<span class="line"></span></code></pre></div><h2 id="encoding" tabindex="-1">Encoding <a class="header-anchor" href="#encoding" aria-hidden="true">#</a></h2><p>\u76EE\u5F55\u540D\u662F\u4F1A URI-decoded\u7684, \u6BD4\u5982\u6709\u4E00\u4E2A\u76EE\u5F55 <code>%40[username]</code> \u4F1A\u5339\u914D <code>@</code>\u5B57\u7B26\u5F00\u5934\u7684\u8BF7\u6C42:</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">// @filename: ambient.d.ts</span></span>
<span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> global </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		equal</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// @filename: index.js</span></span>
<span class="line"><span style="color:#676E95;">// ---cut---</span></span>
<span class="line"><span style="color:#A6ACCD;">assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equal</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#82AAFF;">decodeURIComponent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%40[username]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@[username]</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>To express a <code>%</code> character, use <code>%25</code>, otherwise the result will be malformed.</p><h2 id="advanced-layouts" tabindex="-1">Advanced layouts <a class="header-anchor" href="#advanced-layouts" aria-hidden="true">#</a></h2><p>\u9ED8\u8BA4\u4E0B\uFF0C<em>layout</em> \u76EE\u5F55\u7ED3\u6784\u548C <em>route</em> \u76EE\u5F55\u7ED3\u6784\u662F\u4E00\u81F4\u7684\u3002 \u4F46\u6709\u65F6\uFF0C\u53EF\u80FD\u8DDF\u4F60\u60F3\u7684\u4E0D\u4E00\u6837\u3002</p><h3 id="group" tabindex="-1">(group) <a class="header-anchor" href="#group" aria-hidden="true">#</a></h3><p>Perhaps you have some routes that are &#39;app&#39; routes that should have one layout (\u5982<code>/dashboard</code> \u6216 <code>/item</code>), and others that are &#39;marketing&#39; routes that should have a different layout (<code>/about</code> \u6216 <code>/testimonials</code>). We can group these routes with a directory whose name is wrapped in parentheses \u2014 unlike normal directories, <code>(app)</code> and <code>(marketing)</code> do not affect the URL pathname of the routes inside them:</p><div class="language-diff"><button class="copy"></button><span class="lang">diff</span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">\u2502 (app)/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C dashboard/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C item/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">\u2502 (marketing)/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C about/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C testimonials/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C admin/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514 +layout.svelte</span></span>
<span class="line"></span></code></pre></div><p>You can also put a <code>+page</code> directly inside a <code>(group)</code>, for example if <code>/</code> should be an <code>(app)</code> or a <code>(marketing)</code> page.</p><p>Pages and layouts inside groups \u2014 as in any other directory \u2014 will inherit layouts above them, unless they <em>break out</em> of the layout hierarchy as shown in the next section. In the above example, <code>(app)/+layout.svelte</code> and <code>(marketing)/+layout.svelte</code> both inherit <code>+layout.svelte</code>.</p><h3 id="page" tabindex="-1">+page@ <a class="header-anchor" href="#page" aria-hidden="true">#</a></h3><p>Conversely, some routes of your app might need to break out of the layout hierarchy. Let&#39;s add an <code>/item/[id]/embed</code> route inside the <code>(app)</code> group from the previous example:</p><div class="language-diff"><button class="copy"></button><span class="lang">diff</span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C (app)/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C item/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u251C [id]/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u251C embed/</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">\u2502 \u2502 \u2502 \u2502 \u2514 +page.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514 +layout.svelte</span></span>
<span class="line"></span></code></pre></div><p>Ordinarily, this would inherit the root layout, the <code>(app)</code> layout, the <code>item</code> layout and the <code>[id]</code> layout. We can reset to one of those layouts by appending <code>@</code> followed by the segment name \u2014 or, for the root layout, the empty string. In this example, we can choose from the following options:</p><ul><li><code>+page@[id].svelte</code> - inherits from <code>src/routes/(app)/item/[id]/+layout.svelte</code></li><li><code>+page@item.svelte</code> - inherits from <code>src/routes/(app)/item/+layout.svelte</code></li><li><code>+page@(app).svelte</code> - inherits from <code>src/routes/(app)/+layout.svelte</code></li><li><code>+page@.svelte</code> - inherits from <code>src/routes/+layout.svelte</code></li></ul><div class="language-diff"><button class="copy"></button><span class="lang">diff</span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C (app)/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C item/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u251C [id]/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u251C embed/</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">\u2502 \u2502 \u2502 \u2502 \u2514 +page@(app).svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514 +layout.svelte</span></span>
<span class="line"></span></code></pre></div><p>There is no way to break out of the root layout. You can be sure that it&#39;s always present in your app and for example put app-wide UI or behavior in it.</p><h3 id="layout" tabindex="-1">+layout@ <a class="header-anchor" href="#layout" aria-hidden="true">#</a></h3><p>Like pages, layouts can <em>themselves</em> break out of their parent layout hierarchy, using the same technique. For example, a <code>+layout@.svelte</code> component would reset the hierarchy for all its child routes.</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">src/routes/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C (app)/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u251C item/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u251C [id]/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u251C embed/</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u2502 \u2514 +page.svelte  // uses (app)/item/[id]/+layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u2514 +layout.svelte  // inherits from (app)/item/+layout@.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2502 \u2514 +page.svelte    // uses (app)/item/+layout@.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2502 \u2514 +layout@.svelte   // inherits from root layout, skipping (app)/+layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502 \u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514 +layout.svelte</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="when-to-use-layout-groups" tabindex="-1">When to use layout groups <a class="header-anchor" href="#when-to-use-layout-groups" aria-hidden="true">#</a></h3><p>Not all use cases are suited for layout grouping, nor should you feel compelled to use them. It might be that your use case would result in complex <code>(group)</code> nesting, or that you don&#39;t want to introduce a <code>(group)</code> for a single outlier. It&#39;s perfectly fine to use other means such as composition (reusable <code>load</code> functions or Svelte components) or if-statements to achieve what you want. The following example shows a layout that rewinds to the root layout and reuses components and functions that other layouts can also use:</p><div class="language-svelte"><button class="copy"></button><span class="lang">svelte</span><pre><code><span class="line"><span style="color:#A6ACCD;">/// file: src/routes/nested/route/+layout@.svelte</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> ReusableLayout </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;$</span><span style="color:#C3E88D;">lib/ReusableLayout.svelte</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">ReusableLayout</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">{</span><span style="color:#A6ACCD;">data</span><span style="color:#C792EA;">}</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">slot</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">ReusableLayout</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">/// file: src/routes/nested/route/+layout.js</span></span>
<span class="line"><span style="color:#676E95;">// @filename: ambient.d.ts</span></span>
<span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">module</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$lib/reusable-load-function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">export</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">reusableLoad</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">import</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@sveltejs/kit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">).</span><span style="color:#FFCB6B;">LoadEvent</span><span style="color:#89DDFF;">):</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Record</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;&gt;;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">// @filename: index.js</span></span>
<span class="line"><span style="color:#676E95;">// ---cut---</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reusableLoad</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$lib/reusable-load-function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">/** </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">type</span><span style="color:#676E95;"> </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">import(&#39;./$types&#39;).PageLoad</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">load</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">// Add additional logic here, if needed</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">reusableLoad</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,53),p=[o];function t(c,r,y,i,D,F){return n(),a("div",null,p)}const u=s(e,[["render",t]]);export{C as __pageData,u as default};
